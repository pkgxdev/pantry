distributable:
  url: https://gitlab.isc.org/isc-projects/bind9/-/archive/{{version.tag}}/bind9-{{version.tag}}.tar.gz
  strip-components: 1

display-name: bind9

versions:
  gitlab: gitlab.isc.org:isc-projects/bind9/tags

build:
  dependencies:
    freedesktop.org/pkg-config: '*'
    gnu.org/libtool: '*'
    gnu.org/m4: '*'
    gnu.org/autoconf: '*'
    gnu.org/automake: '*'
    gnu.org/gcc: '*'
    libuv.org: '*'
    liburcu.org: '*'
    openldap.org/liblmdb: '*'
    openssl.org: '*'
    perl.org: '*'
    gnome.org/libxml2: '*'
  env:
    ARGS:
      - --prefix="{{prefix}}"
  script: |
    autoreconf -fi
    ./configure $ARGS
    #make --jobs {{ hw.concurrency }} install


provides:
  - bin/bind9

test: test "$(bind9 --version)" = {{version}}
