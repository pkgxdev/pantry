distributable:
  url: https://downloads.sourceforge.net/project/cscope/cscope/v{{version.marketing}}/cscope-{{version.marketing}}.tar.gz
  strip-components: 1

versions:
  - 15.9

dependencies:
  invisible-island.net/ncurses: '*'

build:
  dependencies:
    tea.xyz/gx/cc: c99
    tea.xyz/gx/make: '*'
  script: |
    ./configure $ARGS
    make --jobs {{ hw.concurrency }} install
  env:
    ARGS:
      - --prefix="{{prefix}}"
    linux:
      ARGS:
        - --with-ncurses={{deps.invisible-island.net/ncurses.prefix}}

provides:
  - bin/cscope
  - bin/ocs

test:
  cscope --version | grep {{version.marketing}}