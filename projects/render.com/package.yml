distributable:
  url: https://github.com/render-oss/render-cli/archive/refs/tags/v{{version}}.tar.gz
  strip-components: 1

versions:
  github: render-oss/render-cli/tags
  strip: /^v/

build:
  dependencies:
    deno.land: ^1.30
  script: |
    deno compile \
      --unstable \
      --allow-net \
      --allow-read \
      --allow-run \
      --allow-write \
      --allow-env \
      --output='{{prefix}}/bin/render' \
      ./entry-point.ts
  test: deno test --allow-write --allow-read --allow-net --allow-env --allow-run

provides:
  - bin/render

test: render commands
