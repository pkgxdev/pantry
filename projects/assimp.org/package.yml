distributable:
    url: https://github.com/assimp/assimp/archive/v5.2.5.tar.gz
    strip-components: 1
versions:
    github: assimp/assimp
dependencies:
    zlib.net: '*'
build:
  dependencies:
    gnu.org/gcc: '*'
    gnu.org/make: '*'
    cmake.org: '*'
    ninja-build.org: '*'
  script:
    - cmake -S . -B build -G Ninja $ARGS
    - cmake --build build
    - cmake --install build
  env:
    ARGS:
      - -DASSIMP_BUILD_TESTS=OFF
      - -DASSIMP_BUILD_ASSIMP_TOOLS=ON
      - -DCMAKE_INSTALL_PREFIX={{prefix}}
      - -DCMAKE_INSTALL_LIBDIR={{prefix}}/lib
      - -DCMAKE_BUILD_TYPE=Release
      - -DCMAKE_FIND_FRAMEWORK=LAST
      - -DCMAKE_VERBOSE_MAKEFILE=ON
      - -Wno-dev
      - -DBUILD_TESTING=OFF
provides:
  - bin/assimp
test:
  script:
    - assimp version | grep {{version.marketing}}