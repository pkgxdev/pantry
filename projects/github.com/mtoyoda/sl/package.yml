distributable:
  url: https://github.com/mtoyoda/sl/archive/{{version.raw}}.tar.gz
  strip-components: 1

versions:
  github: mtoyoda/sl/releases/tags

provides:
  - bin/sl

dependencies:
  invisible-island.net/ncurses: 6

build:
  dependencies:
    tea.xyz/gx/cc: c99
    tea.xyz/gx/make: '*'
  script: |
    make
    mkdir "{{prefix}}"/bin
    mv sl "{{prefix}}"/bin
  env:
    CPATH: ${{ deps.invisible-island.net/ncurses.prefix }}/include/ncursesw:$CPATH

test:
  sl -c
