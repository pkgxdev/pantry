distributable:
  url: https://github.com/zsh-users/zsh-syntax-highlighting/archive/refs/tags/{{version}}.tar.gz
  strip-components: 1

versions:
  github: zsh-users/zsh-syntax-highlighting/tags

provides:
  # Made an executable to give the user installation instructions, in case they forgot :-)
  - bin/zsh-syntax-highlighting

build:
  dependencies:
    tea.xyz/gx/cc: c99
    tea.xyz/gx/make: '*'
    charm.sh/gum: '*'
  script: |
    make --jobs {{ hw.concurrency }} install
    export ZSH_HIGHLIGHTING={{prefix}}/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
    gum format "# *Finish the install by running*"  '## `echo "source '$ZSH_HIGHLIGHTING'" >> $HOME/.zshrc`' | gum format
  env:
    ARGS:
      - --prefix="{{prefix}}"
