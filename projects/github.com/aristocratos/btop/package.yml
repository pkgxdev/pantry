distributable:
  url: https://github.com/aristocratos/btop/archive/refs/tags/{{version.tag}}.tar.gz
  strip-components: 1

display-name: btop

# if there’s a github then we can parse the versions
versions:
  github: aristocratos/btop

provides:
  - bin/btop

build:
  dependencies:
    # built fine for me on macOS 14 & Xcode 15 but won’t in CI complaining
    # that the provided clang is too old
    # llvm^17 should work but didn’t for headers not found reasons
    gnu.org/gcc: ^12
  script:
    - make
    - make install PREFIX={{prefix}}
  env:
    CC: clang
    CXX: clang++

test:
  btop --version | grep {{version}}
