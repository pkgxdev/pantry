distributable:
  url: https://github.com/pypa/setuptools/archive/v{{version}}.tar.gz
  strip-components: 1

versions:
  github: pypa/setuptools

dependencies:
  python.org: ~3.12

runtime:
  env:
    PYTHONPATH: ${{prefix}}/lib/python3.12/site-packages:$PYTHONPATH

build:
  # 75.3.4 shipped with incorrect version info
  - sed -i 's/^version = ".*"$/version = "{{version}}"/' pyproject.toml
  - python -m pip install --prefix={{prefix}} .

test:
  - python -c 'import setuptools; print(setuptools.__version__)' | tee out
  - grep {{version}} out
