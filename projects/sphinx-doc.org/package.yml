distributable:
  url: https://github.com/sphinx-doc/sphinx/archive/refs/tags/{{version.tag}}.tar.gz
  strip-components: 1

versions:
  github: sphinx-doc/sphinx

dependencies:
  python.org: ">=3.12"

build:
  - python-venv.sh {{prefix}}/bin/sphinx-build
  - run:
      - ln -s sphinx-build sphinx-apidoc
      - ln -s sphinx-build sphinx-autogen
      - ln -s sphinx-build sphinx-quickstart
    working-directory: "{{prefix}}/bin"

provides:
  - bin/sphinx-apidoc
  - bin/sphinx-autogen
  - bin/sphinx-build
  - bin/sphinx-quickstart

test:
  - sphinx-quickstart -pPorject -aAuthor -v1.0 -q .
  - sphinx-build . ./build
  - test -f build/index.html
