distributable:
  url: git+https://github.com/mudler/LocalAI
  ref: ${{version.tag}}

# weird c++ stdlib linkage error on linux
platforms:
  - darwin

display-name: LocalAI

versions:
  github: mudler/LocalAI

build:
  dependencies:
    go.dev: ^1.21
    cmake.org: ^3
    grpc.io: ^1
    protobuf.dev: ^25
    gnu.org/wget: ^1
    gnu.org/coreutils: ^9
    git-scm.org: ^2
  script:
    - make build
    - install -D local-ai {{prefix}}/bin/local-ai

provides:
  - bin/local-ai

test:
  local-ai --version | grep {{version}}
