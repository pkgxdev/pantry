distributable: ~

versions:
  github: paulfitz/daff/tags

provides:
  - bin/daff

dependencies:
  python.org: '>=3.7<3.12'

build:
  dependencies:
    pip.pypa.io: '*'
  script:
    - 'pip download --no-deps --no-binary :all: --dest . daff=={{version}}'
    - tar zxvf daff-{{version}}.tar.gz --strip-components=1
    - python-venv.py {{prefix}}/bin/daff

test: test "$(daff version)" = "{{ version }}"
